{% extends 'base.html.twig' %}

{% block title %}Ajouter une photo de profil{% endblock %}

{% block body %}
    <div class="bg-yellow-100 rounded-xl p-6 max-w-lg mx-auto shadow-lg mt-8">


        {% if app.user.profile.image and app.user.profile.image.imageName %}
            <div class="flex justify-center mb-6">
                <img class="w-24 h-24 rounded-full object-cover border-2 border-gray-400"
                     src="{{ vich_uploader_asset(app.user.profile.image, 'imageFile') | imagine_filter('imageProfile') }}" alt="Photo de profil" />
            </div>
        {% endif %}


        <div class="text-center mb-6 text-lg font-semibold">
            {% if app.user.profile.displayName %}
                {{ app.user.profile.displayName }}
            {% else %}
                {{ app.user.email }}
            {% endif %}
        </div>


        <div class="flex items-center gap-3">
            {{ form_start(form, {'attr': {'class': 'w-full flex items-center gap-3'}}) }}
            {{ form_row(form.imageFile, {
                label: false,
                attr: {
                    class: 'flex-1 border border-gray-300 rounded-md px-4 py-2 bg-white'
                }
            }) }}

            <button type="submit" class="bg-white border border-gray-300 rounded-md p-2 hover:bg-gray-100 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M3 7h4l2-3h6l2 3h4v13H3V7z" />
                </svg>
            </button>
            {{ form_end(form) }}
        </div>
        <br>
        <a href="{{ path('app_post') }}" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600">Retour</a>
    </div>

{% endblock %}
